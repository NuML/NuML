## @configure_input@
##
## Filename    : Makefile.in
## Description : Makefile template for use by 'configure'
##
## Begin svn Header
## $Rev$:	Revision of last commit
## $Author$:	Author of last commit
## $Date$:	Date of last commit
## $HeadURL$
## $Id$
## End svn Header
## ***************************************************************************
## This file is part of libNUML.  Please visit http://code.google.com/p/numl/for more
## information about NUML, and the latest version of libNUML.
## Copyright (c) 2013 The University of Manchester.
##
## This library is free software; you can redistribute it and/or modify it
## under the terms of the GNU Lesser General Public License as published
## by the Free Software Foundation.  A copy of the license agreement is
## provided in the file named "LICENSE.txt" included with this software
## distribution and also available online as http://www.gnu.org/licenses/lgpl.html
##
## The original code was initially developed by:
##
##	SBML Team
##	Control and Dynamical Systems, MC 107-81
##	California Institute of Technology
##	Pasadena, CA, 91125, USA
##
## 	http://www.sbml.org
##	mailto:sbml-team@caltech.edu
##
## Adapted for NUML by:
##
##	NUML Team
##	Computational Systems Biology Group
##  School of Computer Science
## 	The University of Manchester
##	Manchester, M1 7DN UK
##	mailto:josephodada@gmail.com
##
##  Contributor(s):
##  Joseph O. Dada, The University of Manchester - initial LIBNUML API and implementation
## **************************************************************************
##
# -----------------------------------------------------------------------------
# Configuration variables
# -----------------------------------------------------------------------------
# Some of the following are substituted automatically by `configure'.  If
# you are looking at "Makefile", do not edit these values; instead, run the
# configure script at the top level of the src tree.  It will recreate
# "Makefile".

include @top_srcdir@/config/makefile-common-vars.mk

# `srcdir' points to the current directory, but should be set by configure.
# `subdir' must be set manually to the relative dir under `srcdir'.  Don't 
# set `subdir' to an absolute path, or some make actions will fail.

srcdir  = @srcdir@
thisdir = .

# Variables `examples' and `xml-schemas' are local variables reused below.
# SK removed xml-schema files

examples =                                                       \
  examples/README.txt                                            \
  examples/c/Makefile.in                                         \
  examples/c/FormulaGraphvizFormatter.h                          \
  examples/c/convertNUML.c                                       \
  examples/c/drawMath.c                                          \
  examples/c/echoNUML.c                                          \
  examples/c/evaluateMath.c                                      \
  examples/c/printMath.c                                         \
  examples/c/printNUML.c                                         \
  examples/c/readNUML.c                                          \
  examples/c/translateMath.c                                     \
  examples/c/util.c                                              \
  examples/c/util.h                                              \
  examples/c/validateNUML.c                                      \
  examples/c++/Makefile.in                                       \
  examples/c++/appendAnnotation.cpp                              \
  examples/c++/printAnnotation.cpp                               \
  examples/c++/printNotes.cpp                                    \
  examples/c++/unsetAnnotation.cpp                               \
  examples/c++/unsetNotes.cpp                                    \
  examples/c++/addCVTerms.cpp                                    \
  examples/c++/addModelHistory.cpp                               \
  examples/c++/convertNUML.cpp                                   \
  examples/c++/echoNUML.cpp                                      \
  examples/c++/printMath.cpp                                     \
  examples/c++/printNUML.cpp                                     \
  examples/c++/readNUML.cpp                                      \
  examples/c++/translateMath.cpp                                 \
  examples/c++/printUnits.cpp                                    \
  examples/c++/util.c                                            \
  examples/c++/util.h                                            \
  examples/c++/validateNUML.cpp                                  \
  examples/c++/createExampleNUMLDoc.cpp                             \
  examples/java/Makefile.in                                      \
  examples/java/README.txt                                       \
  examples/java/convertNUML.java                                 \
  examples/java/evaluateMath.java                                \
  examples/java/printMath.java                                   \
  examples/java/printNUML.java                                   \
  examples/java/readNUML.java                                    \
  examples/java/translateMath.java                               \
  examples/java/validateNUML.java                                \
  examples/java/addCVTerms.java                                  \
  examples/java/addModelHistory.java                             \
  examples/java/appendAnnotation.java                            \
  examples/java/echoNUML.java                                    \
  examples/java/printAnnotation.java                             \
  examples/java/printUnits.java                                  \
  examples/java/printNotes.java                                  \
  examples/java/unsetAnnotation.java                             \
  examples/java/unsetNotes.java                                  \
  examples/layout/Makefile.in                                    \
  examples/layout/example1.cpp                                   \
  examples/layout/example2.cpp                                   \
  examples/layout/example3.cpp                                   \
  examples/layout/example1.java                                  \
  examples/layout/example1.py                                    \
  examples/layout/layout2svg.xsl                                 \
  examples/perl/convertNUML.pl                                   \
  examples/perl/evaluateMath.pl                                  \
  examples/perl/extractReactionInfo.pl                           \
  examples/perl/extractReactions.pl                              \
  examples/perl/printMath.pl                                     \
  examples/perl/printNUML.pl                                     \
  examples/perl/readNUML.pl                                      \
  examples/perl/translateMath.pl                                 \
  examples/perl/validateNUML.pl                                  \
  examples/python/echoNUML.py                                    \
  examples/python/validateNUML.py                                \
  examples/examples-data/README.txt                            \
  examples/sample-models/from-spec/level-2/twodimensional.xml    \
  examples/sample-models/from-spec/level-2/units.xml


# The files listed in `docs' are copied to the documentation directory
# during a `make install'.

docs =         \
  AUTHORS.txt  \
  COPYING.html \
  COPYING.txt  \
  FUNDING.txt  \
  LICENSE.txt  \
  LICENSE.html \
  NEWS.txt     \
  README.txt   \
  VERSION.txt  \
  $(examples)                                          

# Variables `subdirs', `headers', `sources', `libraries', `extra_CPPFLAGS',
# `extra_CXXFLAGS', `extra_LDFLAGS', `extra_clean', and `distfiles' are
# used by the default rules in `makefile-common-actions.mk' included at the
# end.

subdirs = src
#docs win macosx

# `distfile' is the list of files used for creating distributions,
# something that only the libNUML developers should do.  The list of files
# here is in addition to the subdirectories listed in `subdirs'.  The
# latter are the object of `make dist' and the files that are collected
# are under the control of the makefiles in the subdirectories.

distfiles =                         \
  AUTHORS.txt                       \
  COPYING.html                      \
  COPYING.txt                       \
  FUNDING.txt                       \
  LICENSE.txt                       \
  LICENSE.html                      \
  Makefile.in                       \
  NEWS.txt                          \
  README.txt                        \
  VERSION.txt                       \
  aclocal.m4                        \
  acinclude.m4                      \
  config/config.guess               \
  config/config.sub                 \
  config/doxygen.m4                 \
  config/expat.m4                   \
  config/install-sh                 \
  config/java.m4                    \
  config/libcheck.m4                \
  config/libxml.m4                  \
  config/libsbml.m4                  \
  config/dolt.m4                    \
  config/ltmain.sh                  \
  config/libtool.m4                 \
  config/lt_link_helper.sh.in       \
  config/makefile-common-actions.mk \
  config/makefile-common-vars.mk.in \
  config/matlab.m4                  \
  config/missing                    \
  config/mkinstalldirs              \
  config/mkoctfile_wrapper.sh.in    \
  config/octave.m4                  \
  config/perl.m4                    \
  config/python.m4                  \
  config/ruby.m4                    \
  config/csharp.m4                  \
  config/runldpath.m4               \
  config/swig.m4                    \
  config/univbinary.m4              \
  config/xercesc.m4                 \
  config/zlib.m4                    \
  config/bzip2.m4                   \
  configure                         \
  configure.ac                      \
  libnuml.spec.in                   \
  $(examples)                              

# The files listed in `extra_distclean' are items created by configure or
# make, and that are removed by the default rules for `make distclean' in
# makefile-common-actions.mk.

extra_distclean = config.status config.cache config.log autom4te.cache \
	src/common/config.h src/common/stamp-h1 config/lt_link_helper.sh \
	config/mkoctfile_wrapper.sh libtool doltlibtool doltcompile

# It's safer to remove and recreate the copy of the include files (in the
# 'include' directory) after a make clean.  Previously we did it in a make
# distclean only, but I've run into situations where the copy didn't get
# updated.  This is a bit of a sledgehammer, but it's not too bad.

extra_clean = include libnuml.pc libnuml.spec

ifeq "$(HOST_TYPE)" "cygwin"
  extra_clean += libnuml.la
endif

# Misc things used later below.

define nodoxygen

  Cannot create this manual, either because libNUML was not
  configured using --with-doxygen, or 'doxygen' cannot be found, or
  the version of 'doxygen' found is too old.  Please reconfigure with
  a suitable value for the configuration flag --with-doxygen
endef


# -----------------------------------------------------------------------------
# Primary build actions.
# -----------------------------------------------------------------------------

# The default rules in `makefile-common-actions.mk' know to interpret goals
# of the form `foo-recursive' to run 'make foo' in directories defined in
# variable `subdirs'.

all: configure Makefile include all-recursive libnuml.pc 

docs:;
# Only in the case of Java can we make the docs without doxygen.
ifndef USE_JAVA
ifeq "$(USE_DOXYGEN)" ""
# Doxygen hasn't been configured suitably.
	$(error $(nodoxygen))
endif
endif
ifneq "$(MAKEFLAGS)" ""
	$(MAKE) -w -C docs -$(MAKEFLAGS) $(MAKECMDGOALS)
else
	$(MAKE) -w -C docs $(MAKECMDGOALS)
endif

# -----------------------------------------------------------------------------
# Create a package (.dmg file) for MacOSX
#
# (NOTES)
#
# Executing "make create-dmg" will create a
# libnuml-${VERSION}-${XML_PARSER}_macosx-installer.dmg
# in the top directory of source tree.
#
# Install prefix, underlying XML parser (expat, libxml2, or xerces), language
# bindings and etc. are determined by options passed to the configure script.
#
# For example, a created package will install libNUML (depends on expat) as
# universal binaries (i386 and ppc) in /usr/local/ directory (default path)
# with Java and Python bindings if the configure script is run as follows:
#
#  ./configure --with-expat --enable-universal-binary --with-java --with-python
#
# -----------------------------------------------------------------------------
create-dmg:
ifneq "$(MAKEFLAGS)" ""
	$(MAKE) -w -C macosx -$(MAKEFLAGS) $(MAKECMDGOALS)
else
	$(MAKE) -w -C macosx $(MAKECMDGOALS)
endif	

include: include-recursive


# -----------------------------------------------------------------------------
# Checking.
# -----------------------------------------------------------------------------

check: all check-recursive


# -----------------------------------------------------------------------------
# Tags.
# -----------------------------------------------------------------------------

tags: etags-recursive ctags-recursive


# -----------------------------------------------------------------------------
# libnuml.pc.
# -----------------------------------------------------------------------------

base-libs = -lnuml -lstdc++ -lm

COMPRESS_CPFLAGS    = ${ZLIB_CPPFLAGS} ${BZ2_CPPFLAGS} 
COMPRESS_LDFLAGS    = ${ZLIB_LDFLAGS} ${BZ2_LDFLAGS}
COMPRESS_LIBS       = ${ZLIB_LIBS} ${BZ2_LIBS}

XML_CPFLAGS         = ${XERCES_CPPFLAGS} ${EXPAT_CPPFLAGS} ${LIBXML_CPPFLAGS}
XML_LDFLAGS         = ${XERCES_LDFLAGS} ${EXPAT_LDFLAGS} ${LIBXML_LDFLAGS}
XML_LIBS            = ${XERCES_LIBS} ${EXPAT_LIBS} ${LIBXML_LIBS}

##LIBSBML
SBML_CPFLAGS        = ${LIBSBML_CPPFLAGS}
SBML_LDFLAGS        = ${LIBSBML_LDFLAGS}
SBML_LIB			= ${LIBSBML_LIBS}


DEPENDENCY_CPPFLAGS = ${XML_CPPFLAGS} ${COMPRESS_CPPFLAGS} ${SBML_CPFLAGS}
DEPENDENCY_LIBFLAGS = ${XML_LDFLAGS} ${COMPRESS_LDFLAGS} ${SBML_LDFLAGS} ${XML_LIBS} ${COMPRESS_LIBS} ${SBML_LIB}

libnuml.pc: Makefile
	@rm -f libnuml.pc
	@echo "Name: @PACKAGE_NAME@"                   > libnuml.pc
	@echo "Description: An API library for reading/writing/manipulating NUML" >> libnuml.pc
	@echo "URL: http://numl.org/Software/libNUML" >> libnuml.pc
	@echo "Version: @PACKAGE_VERSION@"            >> libnuml.pc
	@echo ""                                      >> libnuml.pc
	@echo "prefix=@prefix@"                       >> libnuml.pc
	@echo "exec_prefix=@exec_prefix@"             >> libnuml.pc
	@echo "libdir=@libdir@"                       >> libnuml.pc
	@echo "includedir=@includedir@"               >> libnuml.pc
	@echo ""                                      >> libnuml.pc
ifdef USE_XERCES
	@echo "Libs: -L\$${libdir} ${DEPENDENCY_LIBFLAGS} ${base-libs}" >> libnuml.pc
	@echo "Cflags: -I\$${includedir} ${DEPENDENCY_CPPFLAGS}" >> libnuml.pc
	@echo "Conflicts: xerces-c = 2.6.0" >> libnuml.pc
endif
ifdef USE_EXPAT
	@echo "Libs: -L\$${libdir} ${DEPENDENCY_LIBFLAGS} ${base-libs}" >> libnuml.pc
	@echo "Cflags: -I\$${includedir} ${DEPENDENCY_CPPFLAGS}"  >> libnuml.pc
endif
ifdef USE_LIBXML
	@echo "Libs: -L\$${libdir} ${DEPENDENCY_LIBFLAGS} ${base-libs}" >> libnuml.pc
	@echo "Cflags: -I\$${includedir} ${DEPENDENCY_CPPFLAGS}"        >> libnuml.pc
	@echo "Requires: libxml-2.0 >= 2.6.22" >> libnuml.pc
endif

##LIBSBML Library
ifdef USE_LIBSBML
	@echo "Libs: -L\$${libdir} ${DEPENDENCY_LIBFLAGS} ${base-libs}" >> libnuml.pc
	@echo "Cflags: -I\$${includedir} ${DEPENDENCY_CPPFLAGS}" >> libnuml.pc
	@echo "Conflicts: libsbml = 2.6.0" >> libnuml.pc
endif


# -----------------------------------------------------------------------------
# Installation.
# -----------------------------------------------------------------------------

define install-linux-warning-msg

  The installation of libNUML is finished.  On certain platforms
  (such as Linux), you will also need to do one of the following:
  1) run 'ldconfig' (see the man page if this is unfamiliar)
  2) set the LD_LIBRARY_PATH (or equivalent) environment variable
  to contain the path "$(DESTDIR)$(LIBDIR)" so that programs can 
  find the libNUML library at run-time.

endef
define install-darwin-warning-msg

  The installation of libNUML is finished.  To use the library, you
  may also need to set your DYLD_LIBRARY_PATH environment to contain
  the path "$(DESTDIR)$(LIBDIR)" so that programs can find the 
  libNUML library at run-time.

endef
define uninstall-warning-msg

  Uninstallation complete.  WARNING: if you have run libNUML's 'configure'
  utility since the time of the last installation of libNUML on this computer, 
  the uninstallation just performed may not have removed all of the libNUML
  files.  The 'make uninstall' command only knows about the files installed
  by libNUML according to its MOST RECENT CONFIGURATION.

endef

install: all install-recursive install-warnings install-pc 

# Only in the case of Java can we make the docs without doxygen.
ifdef USE_JAVA
install-docs: install-docs-recursive
else
ifeq "$(USE_DOXYGEN)" ""
# Doxygen hasn't been configured suitably.
install-docs:
	$(error $(nodoxygen))
else
install-docs: install-docs-recursive
endif
endif

installcheck: installcheck-recursive

install-warnings:
ifeq "$(HOST_TYPE)" "darwin"
	$(warning $(install-darwin-warning-msg))
else
	$(warning $(install-linux-warning-msg))
endif

install-pc: libnuml.pc
	$(INSTALL_SH) libnuml.pc -m 0644 "$(DESTDIR)$(LIBDIR)/pkgconfig/libnuml.pc"

uninstall: uninstall-recursive uninstall-libnuml-pc 
	@if test -d "$(DESTDIR)$(LIBDIR)"; then \
	  if test -n "`find $(DESTDIR)$(LIBDIR) -maxdepth 0 -empty`"; then \
	    echo rmdir "$(DESTDIR)$(LIBDIR)"; \
	    rmdir "$(DESTDIR)$(LIBDIR)"; \
	  else \
	    echo "Directory $(DESTDIR)$(LIBDIR) not empty; leaving it alone"; \
	  fi; \
	fi; \
	if test -d "$(DESTDIR)$(INCLUDEDIR)"; then \
	  if test -n "`find $(DESTDIR)$(INCLUDEDIR) -maxdepth 0 -empty`"; then \
	    echo rmdir "$(DESTDIR)$(INCLUDEDIR)"; \
	    rmdir "$(DESTDIR)$(INCLUDEDIR)"; \
	  else \
	    echo "Directory $(DESTDIR)$(INCLUDEDIR) not empty; leaving it alone"; \
	  fi; \
	fi; \
	if test -d "$(DESTDIR)"; then \
	  if test -n "`find $(DESTDIR) -maxdepth 0 -empty`"; then \
	    echo rmdir "$(DESTDIR)"; \
	    rmdir "$(DESTDIR)"; \
	  else \
	    echo "Directory $(DESTDIR) not empty; leaving it alone"; \
	  fi; \
	fi;
	$(warning $(uninstall-warning-msg))

uninstall-libnuml-pc:
	@target="$(DESTDIR)$(LIBDIR)/pkgconfig/libnuml.pc"; \
	if test -f $$target ; then \
	  echo rm $$target; \
	  rm $$target; \
	fi; \
	if test -d "$(DESTDIR)$(LIBDIR)/pkgconfig"; then \
	  if test -n "`find $(DESTDIR)$(LIBDIR) -maxdepth 0 -empty`"; then \
	    echo rmdir "$(DESTDIR)$(LIBDIR)/pkgconfig"; \
	    rmdir "$(DESTDIR)$(LIBDIR)/pkgconfig"; \
	  else \
	    echo "Directory $(DESTDIR)$(LIBDIR)/pkgconfig not empty; leaving it alone"; \
	  fi; \
	fi;

# -----------------------------------------------------------------------------
# Cleaning.
# -----------------------------------------------------------------------------

clean: clean-normal clean-recursive

distclean: distclean-normal distclean-recursive

mostlyclean: mostlyclean-normal mostlyclean-recursive

maintainer-clean: maintainer-clean-normal maintainer-clean-recursive


# -----------------------------------------------------------------------------
# Creating distribution (for libNUML maintainers only)
# -----------------------------------------------------------------------------

# The `make dist' command is only available from this top-level makefile.

remove_distdir = \
  { test ! -d $(DISTDIR) \
    || { find $(DISTDIR) -type d ! -perm -200 -exec chmod u+w {} ';' \
         && rm -fr $(DISTDIR); }; }

# Don't use GNU make's $(basename ...) command in the following; it behaves
# differently in a critical way (specifically, in its handling of dots).

archive_basename = $(shell basename $(DISTDIR))
tar_archive      = $(archive_basename).tar.gz
zip_archive      = $(archive_basename).zip

dist-gzip: config-check dist-all
	if test -d $(DISTDIR); then \
	  GZIP="--best" tar -C $(DISTDIR)/.. \
		-chozf $(tar_archive) $(notdir $(DISTDIR)); \
	  $(remove_distdir); \
	fi

dist dist-zip: config-check dist-all
	if test -d $(DISTDIR); then				\
	  cd $(DISTDIR)/..					\
	  && zip -vr9  $(zip_archive) "$(archive_basename)"	\
	  && zip -vlr9 $(zip_archive)				\
	   `find "$(archive_basename)" -name '*.dsp' -o -name '*.dsw' -o -name '*.vcproj'`\
	  && $(remove_distdir); \
	fi

# For `make dist' to work properly, we need the developer to configure
# libnuml with certain flags, so that certain auto-generated files are
# present when `make dist' runs and looks for them.

# 2009-01-02 Lisp is now disabled.
# check_vars_list = USE_SWIG USE_JAVA USE_LISP USE_PYTHON USE_PERL
check_vars_list = USE_SWIG USE_JAVA USE_PYTHON USE_PERL
num_vars        = $(words $(check_vars_list))
num_vars_set    = $(words $(foreach var,$(check_vars_list),$($(var))))

config-check:
	@if test $(num_vars_set) != $(num_vars); then \
	  echo "Please reconfigure with options $(check_vars_list)"; \
	  echo "before running 'make dist'"; \
	  exit 2; \
	fi

dist-all: $(distfiles)
	$(MAKE) $(MAKEFLAGS) all
	-rm -f $(distarchive)
	@$(remove_distdir)
	mkdir -p $(DISTDIR)
	@list='$(distfiles)'; for file in $$list; do \
	  if test -f $$file || test -d $$file; then d=.; else d=$(srcdir); fi; \
	  dir=`echo "$$file" | sed -e 's,/[^/]*$$,,'`; \
	  if test "$$dir" != "$$file" && test "$$dir" != "."; then \
	    dir="$$dir"; \
	    $(MKINSTALLDIRS) "$(DISTDIR)/$$dir"; \
	  else \
	    dir=''; \
	  fi; \
	  if test -d $$d/$$file; then \
	    if test -d $(srcdir)/$$file && test $$d != $(srcdir); then \
	      cp -pR $(srcdir)/$$file $(DISTDIR)/$$dir || exit 1; \
	    fi; \
	    cp -pR $$d/$$file $(DISTDIR)/$$dir || exit 1; \
	  else \
	    test -f $(DISTDIR)/$$file \
	    || cp -p $$d/$$file $(DISTDIR)/$$file \
	    || exit 1; \
	  fi; \
	done
	@list='$(subdirs)'; for subdir in $$list; do \
	  if test "$$subdir" = .; then :; else \
	    test -d $(DISTDIR)/$$subdir \
	    || mkdir $(DISTDIR)/$$subdir \
	    || exit 1; \
	    $(MAKE) $(MAKEFLAGS) -wC $$subdir \
	        TOP_DISTDIR="$(TOP_DISTDIR)" \
	        DISTDIR=$(DISTDIR) \
	        dist \
	      || exit 1; \
	  fi; \
	done
	-@find $(DISTDIR) -type d ! -perm -777 -exec chmod a+rwx {} \; -o \
	  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
	  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
	  ! -type d ! -perm -444 -exec $(SHELL) $(INSTALL_SH) -c -m a+r {} {} \; \
	|| chmod -R a+r $(DISTDIR)

## This target untars the dist file and tries a VPATH configuration.  Then
## it guarantees that the distribution is self-contained by making another
## tarfile.
#distcheck: dist
#	$(remove_distdir)
#	GZIP=$(gzip_env) gunzip -c $(distdir).tar.gz | $(AMTAR) xf -
#	chmod -R a-w $(distdir); chmod a+w $(distdir)
#	mkdir $(distdir)/=build
#	mkdir $(distdir)/=inst
#	chmod a-w $(distdir)
#	dc_install_base=`$(am__cd) $(distdir)/=inst && pwd` \
#	  && dc_destdir="$${TMPDIR-/tmp}/am-dc-$$$$/" \
#	  && cd $(distdir)/=build \
#	  && ../configure --srcdir=.. --prefix="$$dc_install_base" \
#	    $(DISTCHECK_CONFIGURE_FLAGS) \
#	  && $(MAKE) $(AM_MAKEFLAGS) \
#	  && $(MAKE) $(AM_MAKEFLAGS) dvi \
#	  && $(MAKE) $(AM_MAKEFLAGS) check \
#	  && $(MAKE) $(AM_MAKEFLAGS) install \
#	  && $(MAKE) $(AM_MAKEFLAGS) installcheck \
#	  && $(MAKE) $(AM_MAKEFLAGS) uninstall \
#	  && $(MAKE) $(AM_MAKEFLAGS) distuninstallcheck_dir="$$dc_install_base" \
#	        distuninstallcheck \
#	  && chmod -R a-w "$$dc_install_base" \
#	  && ({ \
#	       (cd ../.. && $(MKINSTALLDIRS) "$$dc_destdir") \
#	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" install \
#	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" uninstall \
#	       && $(MAKE) $(AM_MAKEFLAGS) DESTDIR="$$dc_destdir" \
#	            distuninstallcheck_dir="$$dc_destdir" distuninstallcheck; \
#	      } || { rm -rf "$$dc_destdir"; exit 1; }) \
#	  && rm -rf "$$dc_destdir" \
#	  && $(MAKE) $(AM_MAKEFLAGS) dist-gzip \
#	  && rm -f $(distdir).tar.gz \
#	  && $(MAKE) $(AM_MAKEFLAGS) distcleancheck
#	$(remove_distdir)
#	@echo "$(distdir).tar.gz is ready for distribution" | \
#	  sed 'h;s/./=/g;p;x;p;x'

#distuninstallcheck:
#	cd $(distuninstallcheck_dir) \
#	&& test `find . -type f -print | wc -l` -le 1 \
#	   || { echo "ERROR: files left after uninstall:" ; \
#	        if test -n "$(DESTDIR)"; then \
#	          echo "  (check DESTDIR support)"; \
#	        fi ; \
#	        find . -type f -print ; \
#	        exit 1; } >&2

#distcleancheck: distclean
#	if test '$(srcdir)' = . ; then \
#	  echo "ERROR: distcleancheck can only run from a VPATH build" ; \
#	  exit 1 ; \
#	fi
#	test `find . -type f -print | wc -l` -eq 0 \
#	  || { echo "ERROR: files left in build directory after distclean:" ; \
#	       find -type f -print ; \
#	       exit 1; } >&2


# -----------------------------------------------------------------------------
# Common default rules.
# -----------------------------------------------------------------------------

include @top_srcdir@/config/makefile-common-actions.mk


# -----------------------------------------------------------------------------
# End.
# -----------------------------------------------------------------------------
